<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>corpuscles</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="css/swiss.css" />
</head>
<body>
<p>include(m4/util.m4)r_geomview(&lt;&lt;-p ‘co.q al img/rbc/ref.off &lt;’ -t -0.06 -0.013 0 -r -64 -32 9.5 -f 25 img/rbc/sde/Da-0.358.off&gt;&gt;, &lt;&lt;img/rbc/sde/Da-0.358.png&gt;&gt;, red cell)<br />
</p>
<h1 id="introduction">Introduction</h1>
<p>Corpuscles is a C library to resolve the elastic energy and force of a membrane surface, which is represented by an unstructured triangulated mesh. It also simulates transformations between different configurations/shapes of a closed membrane by a minimization procedure under various constraints.</p>
<p>Various components can be switched on/off at will, such as A. Bending elasticity of lipip bilayer. B. Strain (both shear and strecth) elasticity of cytoskeleton. C. Viscosity of lipid membrane. D. Thermal fluctuations of lipid membrane. E. Constraint of reduced volume of a closed membrane surface. F. Constraint of total area of a closed membrane surface. G. Constratin of total volume of a closed membrane surface. H. Constratin of area difference between outer- and inner-surface.</p>
<p>For different components, variations of model/law can be selected such as Helfrich/spontaneous curvature model for bending elasticity and Skalak law for strain elasticity.</p>
<p>For different models/laws, variations of schemes impelemented can also be choosen such as Gompper&amp;Kroll scheme and Juelicher scheme for the bending model of spontaneous curvature.</p>
<p>Please see details in r_link(https://cselab.github.io/corpuscles)</p>
<h1 id="install">Install</h1>
<p>Minimal requirements <code>pkg-config</code>, <code>make</code>, <code>gcc-c</code>. Optional requrements <code>gsl</code>, <code>geomview</code>, <code>atest</code>, <code>maxima</code>, <code>pandoc</code>.</p>
<p>Download code from</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$ <span class="ex">git@github.com</span>:cselab/corpuscles.git</a></code></pre></div>
<p>Adjust <code>conf.mk</code> if you want to change defaults</p>
<p><code>makefile r_file(conf.mk)</code></p>
<p>Library is installed under the path <code>PREFIX</code>. Add <code>PREFIX/bin</code> and <code>PREFIX/man</code> to envariament variables <code>PATH</code> and <code>MANPATH</code>. Run</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1">$ <span class="fu">make</span></a></code></pre></div>
<p>If you have <code>atest</code> installed you can run</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1">$ <span class="fu">make</span> test</a></code></pre></div>
<h1 id="examples">Examples</h1>
<h2 id="hello-world">hello world</h2>
<p>A simple example is in r_dir(example/hello)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb4-1" title="1">$ cat main.c</a>
<a class="sourceLine" id="cb4-2" title="2">r_file(example/hello/main.c)</a></code></pre></div>
<pre class="make"><code>$ cat Makefile
r_file(example/hello/Makefile)</code></pre>
<h2 id="read-off-file">read off file</h2>
<p>An example is in r_dir(example/off/read)</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb6-1" title="1">$ cat main.c</a>
<a class="sourceLine" id="cb6-2" title="2">r_file(example/off/read/main.c)</a></code></pre></div>
<h2 id="write-off-file">write off file</h2>
<p>Read off, compute area fro every triangle, and output off file with colors (r_dir(example/off/write/area))</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb7-1" title="1">r_file(example/off/write/area/main.c)</a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="ex">./main</span> <span class="op">&lt;</span> <span class="va">$(</span><span class="ex">co.path</span><span class="va">)</span>/rbc/laplace/0.off <span class="op">&gt;</span> out.off</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="ex">co.geomview</span> -r 55.9195 -13.672 8.69021 -f 25.0389 out.off</a></code></pre></div>
<p>r_geomview(&lt;&lt;-r 55.9195 -13.672 8.69021 -f 25.0389 img/area.off&gt;&gt;, &lt;&lt;img/area.png&gt;&gt;, mesh colored by triangle area)<br />
</p>
<h1 id="visualization">Visualization</h1>
<p>We use a wrapper to <a href="http://geomview.org">geomview</a>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1">$ <span class="ex">co.geomview</span> -h</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="ex">r_cmd</span>(<span class="op">&lt;&lt;co.geomview</span> <span class="ex">-h</span><span class="op">&gt;&gt;</span>)</a></code></pre></div>
<h1 id="lib">Lib</h1>
<h2 id="floating-point-precision">Floating point precision</h2>
<dl>
<dt>r_header(prec/s/real.h), r_header(prec/d/real.h), r_header(prec/l/real.h)</dt>
<dd>single, double, long double
</dd>
</dl>
<h2 id="math">Math</h2>
<dl>
<dt>r_header(vec.h), r_header(edg.h), r_header(tri.h), r_header(dih.h), r_header(ten.h)</dt>
<dd>vector, edges, triangels, dihidrals, tensors
</dd>
<dt>r_header(dvec.h), r_header(dedg.h), r_header(dtri.h), r_header(ddih.h)</dt>
<dd>derivatives of vector edges, triagels, dihidrals
</dd>
<dt>r_header(ring.h)</dt>
<dd>operation on the first ring of neighbors
</dd>
</dl>
<h2 id="utility">Utility</h2>
<dl>
<dt>r_header(array.h)</dt>
<dd>array related functions
</dd>
<dt>r_header(argv.h)</dt>
<dd>read from <code>argv</code> and shift
</dd>
<dt>r_header(err.h)</dt>
<dd>error handling
</dd>
<dt>r_header(endian.h)</dt>
<dd>deal with endianess
</dd>
<dt>r_header(macro.h)</dt>
<dd>macros
</dd>
<dt>r_header(sum.h)</dt>
<dd><a href="en.wikipedia.org/wiki/Kahan_summation_algorithm">Kahan summation</a>
</dd>
<dt>r_header(memory.h)</dt>
<dd>memory related
</dd>
<dt>r_header(util.h)</dt>
<dd>uncategorazed
</dd>
</dl>
<h2 id="surface-properties">Surface properties</h2>
<dl>
<dt>r_header(area.h)</dt>
<dd>area
</dd>
<dt>r_header(volume.h)</dt>
<dd>volume
</dd>
<dt>r_header(laplace.h)</dt>
<dd>Laplace operator of coordinates
</dd>
<dt>r_header(normal.h)</dt>
<dd>normal
</dd>
</dl>
<h2 id="forces">“Forces”</h2>
<dl>
<dt>r_header(bending.h)</dt>
<dd>generic interface to several bending forces
</dd>
<dt>r_header(forces.h)</dt>
<dd>generic interface to forces
</dd>
<dt>r_header(stretch.h)</dt>
<dd>stretching force
</dd>
</dl>
<h2 id="surface-transformation">Surface transformation</h2>
<dl>
<dt>r_header(equiangulate.h)</dt>
<dd>equlatirate triangles
</dd>
<dt>r_header(orient.h)</dt>
<dd>orient surface in a direction of eigen values of momentum tensor
</dd>
<dt>r_header(restore.h)</dt>
<dd>restore a volume of the surface
</dd>
<dt>r_header(transformation.h)</dt>
<dd>translate, rotate, and and scale surface
</dd>
</dl>
<h2 id="half-edg-related">Half-edg related</h2>
<dl>
<dt>r_header(read.h)</dt>
<dd>read half-edg to intermediate structure HeRead, used to initialize half-edg
</dd>
<dt>r_header(he.h)</dt>
<dd>half edg data structure (provides half-edg API)
</dd>
<dt>r_header(hash.h)</dt>
<dd>stores an integer for a pair of integers
</dd>
</dl>
<h2 id="io">IO</h2>
<dl>
<dt>r_header(off.h), r_header(punto.h), r_header(vtk.h), r_header(gts.h), r_header(ply.h), r_header(obj.h)</dt>
<dd>read/write off files, punto, vtk, gts, ply, obj files
</dd>
</dl>
<h2 id="x-and-y">X and Y</h2>
<dl>
<dt>r_header(x.h)</dt>
<dd>simple interface for one surface
</dd>
<dt>r_header(y.h)</dt>
<dd>not so simple interface
</dd>
</dl>
<h1 id="documentation">Documentation</h1>
<p><a href="https://cselab.github.io/corpuscles">git pages</a> <a href="docs/index.html" class="uri">docs/index.html</a> is generated from <a href="README.md.m4" class="uri">README.md.m4</a>. To update run</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">make</span> html</a></code></pre></div>
<p>requires <a href="http://pandoc.org">pandoc</a>.</p>
</body>
</html>
