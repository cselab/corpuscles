. he.util

prog=he.install

usg () {
    msg "$prog FILE... DIRECTORY"
    msg 'copy one or more files into DIRECTORY preserving relative directory structure'
    exit
}

if test $# -ne 0 && test "$1" = -h; then usg; fi
if test $# -eq 0; then err 'missing FILE'; fi
if test $# -eq 1; then err 'missing DIRECTORY'; fi

d="$1"; shift
for i; do shift; set -- "$@" "$d"; d="$i"; done
for i; do if test ! -f "$i"; then err "not a file '$i'"; fi; done

for i
do d=`dirname -- "$i"`
   mkdir0
done
