#!/usr/bin/env gnuplot

set macro
c(x) = column(x)

f = 'sprintf("Nt_%d/dt_%g/mu_%g/all", Nt, dt, mu)'
t = 'sprintf("Nt = %d dt = %g mu = %g", Nt, dt, mu)'

kb=0.001
eb0 = 4*pi*kb
p = '@f u ($0*dt/mu):(c("eb_bend")/eb0) w l lw 3 t @t'

set terminal pdfcairo color font "Helvetica,14" size 3.2,2.2 enhanced
set output "a.pdf"

c0='#1f77b4'
c1='#ff7f0e'
c2='#2ca02c'
c3='#d62728'
c4='#9467bd'

set linetype  1 lc rgb c0 lw 2
set linetype  2 lc rgb c1 lw 2
set linetype  3 lc rgb c2 lw 2
set linetype  4 lc rgb c3 lw 2
set linetype  5 lc rgb c4 lw 2
set linetype cycle 5

set style line 1 lt 1 pt 7 ps 0.5
set style line 2 lt 2 pt 5 ps 0.5 dt "."
set style line 3 lt 3 pt 8 ps 0.5 dt "-"

set output "figure.pdf"

set key off

plot  \
      mu=1, \
      Nt=1280,  dt=0.001, @p, dt=0.0025, @p, \
      Nt=5120,  dt=0.001, @p, \
      mu=10, \
      Nt=1280,  dt=0.001, @p, dt=0.0025, @p, \
      Nt=5120,  dt=0.001, @p
