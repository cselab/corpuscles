. he.util

prog=he.run

: ${VALGRIND=valgrind}
: ${TIME=time}

usg () {
    msg "$prog 'prog' [args ...]"
    exit
}

if test $# -ne 0 && test "$1" = -h; then usg; fi
if test $# -eq 0
then err "'prog' is missing"; fi

main="$1"; shift

if test ! -z "${VAL+x}"
then e "$VALGRIND" "$VAL" "$main" "$@"
elif test ! -z "${TIM+x}"
then e "$TIME" "$TIM" "$main" "$@"
else e "$main" "$@"; fi
