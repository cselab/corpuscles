normal_mwa(he):=block([nv, n], local(n),
  nv: he_nv(he),
  valloc(nv, n),
  loop_tri(he, block([u, v, w, n0, numer: true],
  u: tri_angle(c, a, b),
  v: tri_angle(a, b, c),
  w: float(%pi) - u - v,
  n0: tri_normal(a, b, c),
  n[i] += u*n0,
  n[j] += v*n0,
  n[k] += w*n0)),
  loop_ver(he,
    n[i]: vec_norm(n[i])),
  n);
