. tri.util

prog=tri.conf
PREFIX=@PREFIX@
: ${PKG_CONFIG=pkg-config}

usg () {
    msg "$prog [OPTION..] [libraries..]"
    msg 'metainformation about installed libraries'
    msg 'OPTIONS'
    msg '  --libs    the pre-processor and compile flags'
    msg '  --cflags  the link flags'
    exit
}

if test $# -ne 0 && test "$1" = -h; then usg; fi
if ! "$PKG_CONFIG" 2>/dev/null >/dev/null --version
then err "$PKG_CONFIG is not found"
fi

if test $# -eq 0
then err 'missing agruemnt'
fi

a="$1"; shift
case "$a" in
    --libs|--cflags) ;;
    *) err "unknown argument '$a'" ;;
esac

PKG_CONFIG_PATH=$PREFIX/pkgconfig:$PKG_CONFIG_PATH
export PKG_CONFIG_PATH
e "$PKG_CONFIG" "$a" tri
